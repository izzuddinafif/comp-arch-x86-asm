DATA SEGMENT
PORTA EQU 00H
PORTB EQU 02H
PORTC EQU 04H
PORT_CON EQU 06H
DATA ENDS
CODE SEGMENT
MOV AX,DATA
MOV DS, AX

ORG 0000H
START:

MOV DX, PORT_CON
MOV AL, 10010000B
OUT DX, AL

MOV AL,00H


XX:

MOV AL,00H  ;command setting cursor
MOV DX,PORTB
OUT DX,AL
MOV AL, 0EH
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay0:loop Delay0
MOV AL,0100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay1:loop Delay1

MOV AL,00H  ;command setting 8 bit mode
MOV DX,PORTB
OUT DX,AL
MOV AL, 038H
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay2:loop Delay2
MOV AL,0100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay3:loop Delay3

XLCDA:

MOV AL,00H
MOV DX,PORTB
OUT DX,AL

MOV AL,010B  ;set rs to 1 to input data
MOV DX,PORTB
OUT DX,AL

MOV AL,'S'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay4:loop Delay4
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay5:loop Delay5

MOV AL,010B
MOV DX,PORTB
OUT DX,AL

MOV AL,'u'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay6:loop Delay6
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay7:loop Delay7

MOV AL,010B
MOV DX,PORTB
OUT DX,AL

MOV AL,'h'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay8:loop Delay8
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay9:loop Delay9

MOV AL,010B
MOV DX,PORTB
OUT DX,AL

MOV AL,'u'
MOV DX, PORTC
OUT DX,AL
MOV CX,0FFH; Delay
Delay10:loop Delay10
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay11:loop Delay11

MOV AL,010B
MOV DX,PORTB
OUT DX,AL

MOV AL,':'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay12:loop Delay12
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay13:loop Delay13

MOV AL,010B
MOV DX,PORTB
OUT DX,AL


;;;;;;;;;;;;

XLCDB:
MOV DX,PORTA
IN AL,DX
MOV BL, 2
MUL BL

CMP AX, 64H
JG XA

MOV AL,'0'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay14:loop Delay14
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay15:loop Delay15
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
JMP XB

XA:
MOV AL,'1'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay16:loop Delay16
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay17:loop Delay17
MOV AL,011B
MOV DX,PORTB
OUT DX,AL

MOV DX, PORTB
MOV AL, 00B
OUT DX,AL

XB:




CODE ENDS
END

