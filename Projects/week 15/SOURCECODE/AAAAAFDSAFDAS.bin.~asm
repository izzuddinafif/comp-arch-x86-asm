DATA SEGMENT
PORTA EQU 00H
PORTB EQU 02H
PORTC EQU 04H
PORT_CON EQU 06H
DATA ENDS
CODE SEGMENT
MOV AX,DATA
MOV DS, AX

ORG 0000H
START:

MOV DX, PORT_CON
MOV AL, 10010000B
OUT DX, AL

MOV AL,00H


XX:

MOV AL,00H  ;command setting cursor
MOV DX,PORTB
OUT DX,AL
MOV AL, 0EH
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay0:loop Delay0
MOV AL,0100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay1:loop Delay1

MOV AL,00H  ;command setting 8 bit mode
MOV DX,PORTB
OUT DX,AL
MOV AL, 038H
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay2:loop Delay2
MOV AL,0100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay3:loop Delay3

XLCDA:

MOV AL,00H
MOV DX,PORTB
OUT DX,AL

MOV AL,010B  ;set rs to 1 to input data
MOV DX,PORTB
OUT DX,AL

MOV AL,'S'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay4:loop Delay4
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay5:loop Delay5

MOV AL,010B
MOV DX,PORTB
OUT DX,AL

MOV AL,'u'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay6:loop Delay6
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay7:loop Delay7

MOV AL,010B
MOV DX,PORTB
OUT DX,AL

MOV AL,'h'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay8:loop Delay8
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay9:loop Delay9

MOV AL,010B
MOV DX,PORTB
OUT DX,AL

MOV AL,'u'
MOV DX, PORTC
OUT DX,AL
MOV CX,0FFH; Delay
Delay10:loop Delay10
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay11:loop Delay11

MOV AL,010B
MOV DX,PORTB
OUT DX,AL

MOV AL,':'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay12:loop Delay12
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay13:loop Delay13

MOV AL,010B
MOV DX,PORTB
OUT DX,AL


;;;;;;;;;;;;

XR:
MOV BH, 0
XLCDB:
MOV DX,PORTA
IN AL,DX
MOV BL, AL
MOV DX, PORTB
MOV AL, 00000000B
OUT DX,AL
MOV CH, 0FH
D1: LOOP D1
MOV DX, PORTB
MOV AL, 00000001B
OUT DX,AL

MOV CH, 0FH
D2: LOOP D2
INC BH
CMP BH, 16
JB XLCDB

;;;;;;;;;;;

MOV AL, BL
CMP AL, 110011B
JA XA

MOV AL,'0'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay14:loop Delay14
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay15:loop Delay15
MOV AL,010B
MOV DX,PORTB
OUT DX,AL
JMP XB

XA:
MOV AL,'1'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay16:loop Delay16
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay17:loop Delay17
MOV AL,011B
MOV DX,PORTB
OUT DX,AL

MOV DX, PORTB
MOV AL, 00B
OUT DX,AL
SUB BL, 110011B

XB:
MOV AL, BL
CMP AL, 101101B    ;90
JA XB9
CMP AL, 101000B    ;80
JA XB8
CMP AL, 100011B    ;70
JA XB7
CMP AL, 11110B ;60
JA XB6
CMP AL, 11001B ;50
JA XB5
CMP AL, 10100B ;40
JA XB4
CMP AL, 1111B; 30
JA XB3
CMP AL, 1010B; 20
JA XB2
CMP AL, 101B; 10
JA XB1

MOV AL,'0'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay18:loop Delay18
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay19:loop Delay19
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
JMP XC

XB9:
MOV AL,'9'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay20:loop Delay20
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay21:loop Delay21
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 101101B
JMP XC

XB8:
MOV AL,'8'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay22:loop Delay22
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay23:loop Delay23
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 101000B
JMP XC

XB7:
MOV AL,'7'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay24:loop Delay24
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay25:loop Delay25
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 100011B
JMP XC

XB6:
MOV AL,'6'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay26:loop Delay26
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay27:loop Delay27
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 11110B
JMP XC

XB5:
MOV AL,'5'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay28:loop Delay28
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay29:loop Delay29
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 11001B
JMP XC

XB4:
MOV AL,'4'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay30:loop Delay30
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay31:loop Delay31
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 10100B
JMP XC

XB3:
MOV AL,'3'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay32:loop Delay32
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay33:loop Delay33
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 1111B
JMP XC

XB2:
MOV AL,'2'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay34:loop Delay34
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay35:loop Delay35
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 1010B
JMP XC

XB1:
MOV AL,'1'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay36:loop Delay36
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay37:loop Delay37
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
SUB BL, 101B
JMP XC

XC:
MOV AL, BL
CMP AL, 0100B  ;8
JA XC8
CMP AL, 011B   ;6
JA XC6
CMP AL, 010B   ;4
JA XC4
CMP AL, 01B    ;2
JA XC2
CMP AL, 00B    ;0
JA XC0

MOV AL,'0'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay38:loop Delay38
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay39:loop Delay39
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
JMP XZ

XC8:
MOV AL,'8'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay40:loop Delay40
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay41:loop Delay41
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
JMP XZ

XC6:
MOV AL,'6'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay42:loop Delay42
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay43:loop Delay43
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
JMP XZ

XC4:
MOV AL,'4'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay44:loop Delay44
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay45:loop Delay45
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
JMP XZ

XC2:
MOV AL,'2'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay46:loop Delay46
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay47:loop Delay47
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
JMP XZ


XC0:
MOV AL,'0'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
Delay48:loop Delay48
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
Delay49:loop Delay49
MOV AL,011B
MOV DX,PORTB
OUT DX,AL
JMP XZ

;;;;;

XZ:
MOV AL,0DFH
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
DelayZ1:loop DelayZ1
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
DelayZ2:loop DelayZ2
MOV AL,011B
MOV DX,PORTB
OUT DX,AL

MOV AL,'C'
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
DelayZ3:loop DelayZ3
MOV AL,0110B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
DelayZ4:loop DelayZ4
MOV AL,011B
MOV DX,PORTB
OUT DX,AL

MOV AL,000H  ;set rs to 0
MOV DX,PORTB
OUT DX,AL

MOV AL, 10H
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
DelayX1:loop DelayX1
MOV AL,100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
DelayX2:loop DelayX2
MOV AL,00H
MOV DX,PORTB
OUT DX,AL
MOV AL, 10H
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
DelayX3:loop DelayX3
MOV AL,100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
DelayX4:loop DelayX4
MOV AL,00H
MOV DX,PORTB
OUT DX,AL
MOV AL, 10H
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
DelayX5:loop DelayX5
MOV AL,100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
DelayX6:loop DelayX6
MOV AL,00H
MOV DX,PORTB
OUT DX,AL
MOV AL, 10H
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
DelayX7:loop DelayX7
MOV AL,100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
DelayX8:loop DelayX8
MOV AL,00H
MOV DX,PORTB
OUT DX,AL
MOV AL, 10H
MOV DX, PORTC
OUT DX,AL
MOV CX,00FFH; Delay
DelayX9:loop DelayX9
MOV AL,100B
MOV DX,PORTB
OUT DX,AL
MOV CX,00FFH; Delay
DelayX10:loop DelayX10
MOV AL,00H
MOV DX,PORTB
OUT DX,AL

JMP XR
CODE ENDS
END



; [SOURCE]: D:\Cool Yeah\Internet Engineering Technology\1st Semester\Computer Architecture\Projects\week 15\TEMP.asm
